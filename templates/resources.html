{% extends "base.html" %}

{% block title %}Resources - ThyroPredict{% endblock %}

{% block content %}
<section class="page-header">
    <div class="container">
        <h1>Thyroid Health Resources</h1>
        <p class="subtitle">Everything you need to support your thyroid health journey</p>
    </div>
</section>

<!-- Post-Prediction Recommendations Section -->
<section class="post-prediction">
    <div class="container">
        <h2>üíä After Your Assessment: What's Next?</h2>
        <p class="section-subtitle">Personalized recommendations based on your thyroid health status</p>
        
        <!-- Supplements Section -->
        <div class="recommendations-grid">
            <div class="recommendation-section">
                <h3>ü•ó Recommended Supplements</h3>
                <div class="recommendation-list">
                    <div class="recommendation-item">
                        <h4>For Hypothyroidism:</h4>
                        <ul>
                            <li><strong>Selenium:</strong> 200 mcg daily - Supports T4 to T3 conversion</li>
                            <li><strong>Iodine:</strong> 150 mcg daily - Essential for thyroid hormone synthesis</li>
                            <li><strong>Iron:</strong> 18-32 mg daily - Necessary for proper thyroid function</li>
                            <li><strong>Zinc:</strong> 8-11 mg daily - Enhances T3 and T4 production</li>
                            <li><strong>B-Complex:</strong> Supports metabolism and energy</li>
                        </ul>
                    </div>
                    <div class="recommendation-item">
                        <h4>For Hyperthyroidism:</h4>
                        <ul>
                            <li><strong>Antioxidants:</strong> CoQ10, Vitamins C & E - Reduce oxidative stress</li>
                            <li><strong>Magnesium:</strong> 400-420 mg daily - Calms nervous system</li>
                            <li><strong>L-Arginine:</strong> Supports immune regulation</li>
                            <li><strong>Selenium:</strong> 200 mcg daily - Protects thyroid tissue</li>
                            <li><strong>Calcium:</strong> 1000-1200 mg daily - Monitor bone density</li>
                        </ul>
                    </div>
                </div>
                <p class="recommendation-note">‚ö†Ô∏è Consult your doctor before starting any supplements, especially if taking thyroid medication.</p>
            </div>

            <!-- Diet Section -->
            <div class="recommendation-section">
                <h3>üçé Dietary Recommendations</h3>
                <div class="recommendation-list">
                    <div class="recommendation-item">
                        <h4>Foods to Eat:</h4>
                        <ul>
                            <li><strong>Iodine-rich:</strong> Seaweed, fish, eggs, dairy</li>
                            <li><strong>Selenium-rich:</strong> Brazil nuts, tuna, chicken, oats</li>
                            <li><strong>Iron-rich:</strong> Spinach, red meat, legumes, fortified cereals</li>
                            <li><strong>Zinc-rich:</strong> Oysters, beef, pumpkin seeds, chickpeas</li>
                            <li><strong>Anti-inflammatory:</strong> Berries, fatty fish, olive oil, leafy greens</li>
                        </ul>
                    </div>
                    <div class="recommendation-item">
                        <h4>Foods to Limit/Avoid:</h4>
                        <ul>
                            <li><strong>Goitrogens:</strong> Raw cruciferous vegetables (if hypothyroid) - cook to reduce effect</li>
                            <li><strong>High-sugar:</strong> Processed foods, sugary drinks</li>
                            <li><strong>High-iodine:</strong> Limit if hyperthyroid (seaweed, kelp)</li>
                            <li><strong>Gluten:</strong> May trigger autoimmune response in sensitive individuals</li>
                            <li><strong>Excess soy:</strong> Can interfere with iodine absorption</li>
                        </ul>
                    </div>
                </div>
                <p class="recommendation-note">üí° Space medications 4+ hours from calcium, iron, and magnesium supplements for better absorption.</p>
            </div>
        </div>
    </div>
</section>

<!-- Doctors Near You Section -->
<section class="doctors-section">
    <div class="container">
        <h2>üë®‚Äç‚öïÔ∏è Find Endocrinologists Near You (Canada)</h2>
        <p class="section-subtitle">Search for endocrinologists in your area by entering your postal code</p>
        
        <!-- Postal Code Search Box -->
        <div class="postal-code-search">
            <div class="search-form">
                <input type="text" id="postalCodeInput" placeholder="Enter your Canadian postal code (e.g., M5V 3A8)" maxlength="7" class="postal-input">
                <button id="searchBtn" class="btn btn-primary">üîç Find Endocrinologists</button>
            </div>
            <p class="search-hint">We use Google Maps to find verified healthcare providers near you</p>
        </div>

        <!-- Map Container -->
        <div id="map" class="map-container"></div>

        <!-- Results Section -->
        <div id="resultsContainer" style="display: none; margin-top: 2rem;">
            <h3 id="resultsTitle">Endocrinologists Found</h3>
            <div id="providersList" class="providers-list"></div>
        </div>

        <!-- Alternative Specialist Cards -->
        <h3 style="margin-top: 3rem; margin-bottom: 2rem;">Other Healthcare Specialists</h3>
        <div class="specialist-grid">
            <div class="specialist-card">
                <div class="specialist-icon">üë®‚Äç‚öïÔ∏è</div>
                <h3>Primary Care Physicians</h3>
                <p>General practitioners and internists. Can order initial thyroid tests and provide basic management. Consider referral to endocrinologist for complex cases.</p>
                <a href="https://www.healthgrades.com" target="_blank" class="specialist-link">Find PCP ‚Üí</a>
            </div>
            <div class="specialist-card">
                <div class="specialist-icon">üß¨</div>
                <h3>Clinical Geneticists</h3>
                <p>If autoimmune thyroid disease (Hashimoto's, Graves'). Helpful for understanding family history and genetic predisposition.</p>
                <a href="https://www.nsgc.org/find-a-genetic-counselor" target="_blank" class="specialist-link">Find Geneticist ‚Üí</a>
            </div>
            <div class="specialist-card">
                <div class="specialist-icon">üíä</div>
                <h3>Pharmacists</h3>
                <p>Medication specialists who understand drug interactions and optimal timing of thyroid medication administration.</p>
                <a href="https://www.pharmacist.com/find-a-pharmacist" target="_blank" class="specialist-link">Find Pharmacist ‚Üí</a>
            </div>
            <div class="specialist-card">
                <div class="specialist-icon">üåø</div>
                <h3>Functional Medicine</h3>
                <p>Holistic approach to thyroid health, focusing on root causes and lifestyle optimization. Complements conventional treatment.</p>
                <a href="https://www.ifm.org/find-a-practitioner" target="_blank" class="specialist-link">Find Practitioner ‚Üí</a>
            </div>
        </div>

        <div class="find-provider-box">
            <h3>üí° Tips for Finding Healthcare Providers</h3>
            <div class="provider-options">
                <div class="option">
                    <strong>Insurance Network Search:</strong> Check your provincial health plan or insurance provider's website for covered endocrinologists
                </div>
                <div class="option">
                    <strong>Referral from GP:</strong> Ask your family doctor for a specialist referral to endocrinology
                </div>
                <div class="option">
                    <strong>Hospital Endocrinology Departments:</strong> Contact your nearest hospital's endocrinology department for appointments
                </div>
                <div class="option">
                    <strong>Canadian Endocrine Society:</strong> Visit <a href="https://www.ces.ca" target="_blank">www.ces.ca</a> for thyroid resources and provider directories
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/doctor-finder.js') }}"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places"></script>
{% endblock %}
